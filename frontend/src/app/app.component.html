<div class="w-full p-4">
	<main class="w-full flex flex-col h-screen content-center justify-center">
		<div class="w-full sm:w-1/2 lg:w-2/3 xl:w-3/4 bg-gray-50 rounded-xl m-auto">
			<mat-drawer-container class="container" autosize>
				<mat-drawer #drawer class="sidenav" position="end" mode="push">
					<div class="p-6">
						<h4 class="text-xl font-semibold mb-4">Add / Edit Announcement</h4>
						<form>
							<div class="mb-4">
								<mat-form-field class="w-full">
									<mat-label>ID</mat-label>
									<input matInput name="id" required />
								</mat-form-field>
							</div>

							<div class="mb-4">
								<mat-form-field class="w-full">
									<mat-label>Priority</mat-label>
									<input matInput type="number" name="priority" required />
								</mat-form-field>
							</div>

							<div class="mb-4">
								<mat-form-field class="w-full">
									<mat-label>Type</mat-label>
									<input matInput name="type" required />
								</mat-form-field>
							</div>

							<div class="mb-4">
								<mat-form-field class="w-full">
									<mat-label>Publishing Date</mat-label>
									<input matInput type="date" name="publishingDate" required />
								</mat-form-field>
							</div>

							<div class="mb-4">
								<mat-checkbox name="isActive">
									Active
								</mat-checkbox>
							</div>

							<div class="flex justify-end">
								<button mat-button type="submit" class="bg-blue-600 text-white">Save</button>
								<button mat-button type="button" (click)="drawer.toggle()" class="ml-2 bg-gray-300 text-gray-700">Cancel</button>
							</div>
						</form>
					</div>
					<button (click)="drawer.toggle()">close</button>
				</mat-drawer>

				<div class="sidenav-content">
					<table class="w-full bg-white rounded-lg shadow-lg">
						<thead>
							<tr class="bg-gray-200 text-gray-600 text-sm">
								<th class="py-3 px-4 text-left">ID</th>
								<th class="py-3 px-4 text-center">Priority</th>
								<th class="py-3 px-4 text-center">Type</th>
								<th class="py-3 px-4 text-left">Publishing Date</th>
								<th class="py-3 px-4 text-center">Status</th>
								<th class="py-3 px-4 text-center">Actions</th>
							</tr>
						</thead>
						<tbody>
							@for (announcement of announcements; track $index) {
							<tr class="border-b hover:bg-gray-50 text-gray-700">
								<td class="px-6 py-4">{{ announcement.id }}</td>
								<td class="px-6 py-4">{{ announcement.priority }}</td>
								<td class="px-6 py-4">{{ announcement.type }}</td>
								<td class="px-6 py-4">{{ announcement.publishingDate | date }}</td>
								<td class="px-6 py-4">{{ announcement.isActive ? 'Yes' : 'No' }}</td>
								<td class="px-6 py-4">
									<mat-icon (click)="openEditSidebar(announcement)" class="text-blue-600 hover:text-blue-800" fontIcon="edit"></mat-icon>
									<mat-icon (click)="deleteAnnouncement(announcement.id)" class="ms-2 text-red-600 hover:text-red-800" fontIcon="delete"></mat-icon>
								</td>
							</tr>
							}
						</tbody>
					</table>
				</div>
			</mat-drawer-container>
		</div>
	</main>
</div>
